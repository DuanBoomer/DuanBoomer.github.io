---
import "../styles/global.css";
import logo from "../portfolio_images/logo-cg.png";
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="X-UA-Compatible"
      content="IE=edge"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />

    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <title>Chirag Portfolio</title>
  </head>
  <body>
    <img
      id="logo"
      src={logo}
      alt="logo"
    />
    <slot />

    <div id="cursor"></div>

    <footer>
      <p>Made with Astro</p>
      <p>Made by Me</p>
      <p>Hosted on Github</p>
    </footer>
  </body>
</html>

<style>
  #logo {
    position: fixed;
    z-index: 1000;
    top: 1rem;
    left: 1rem;
    width: 3.5vw;
  }

  #cursor {
    position: fixed;
    width: 12px;
    height: 12px;
    top: 0;
    right: 50%;
    background-color: var(--blackish);
    border-radius: 100%;
    transition: 0;
    pointer-events: none;
  }

  footer{
    display: flex;
    background-color: var(--accent-color);
    color: var(--blackish);
    gap: 10%;
    justify-content: center;
  }

  footer > p{
    margin: 2rem 0;
    font-weight: 800;
  }

</style>

<script>
  /////////////////text reveal script//////////////
  const text = document.querySelectorAll(".anitext");
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("reveal-text");
        return;
      }

      // entry.target.classList.remove('reveal-text');
    });
  });

  text.forEach((elem) => {
    observer.observe(elem);
  });

  //////////////////////////////////////

  ////////////////custom cursor script///////////

  const card = document.getElementsByClassName("learning-card");
  const contact_fields = document.getElementsByClassName('contact-field');

  // const total_elements = card.concat(contact_fields);
  const cursor = document.getElementById("cursor");

  document.addEventListener("mousemove", (systemCursor) => {
    var x = systemCursor.clientX;
    var y = systemCursor.clientY;
    //  console.log(systemCursor);

    cursor.style.left = x + "px";
    cursor.style.top = y + "px";
  });
  // console.log();

  function addMouseEffects(elements){
    for (let i = 0; i < elements.length; i++) {
    const tag = elements.item(i);
    tag.addEventListener("mouseenter", () => {
      cursor.style.scale = "3";
      cursor.style.backgroundColor = 'var(--whiteish)'
      // cursor.style.scale = "3";
    });
    
    tag.addEventListener("mouseleave", () => {
      cursor.style.scale = "1";
      cursor.style.backgroundColor = 'var(--blackish)'
    });
  }

  }

  addMouseEffects(card)
  addMouseEffects(contact_fields)

  // for (let i = 0; i < card.length; i++) {
  //   const tag = card.item(i);
  //   tag.addEventListener("mouseenter", () => {
  //     cursor.style.scale = "3";
  //     // cursor.style.scale = "3";
  //   });

  //   tag.addEventListener("mouseleave", () => {
  //     cursor.style.scale = "1";
  //   });
  // }

  ////////////////////////////////////////////
</script>
