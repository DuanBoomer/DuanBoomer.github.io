---
import "../styles/global.css";
import logo from "../portfolio_images/logo-cg.png";
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="X-UA-Compatible"
      content="IE=edge"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />

    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <link
      rel="shortcut icon"
      href={logo}
      type="image/x-icon"
    />

    <title>Chirag Portfolio</title>
  </head>
  <body>
    <img
      id="logo"
      src={logo}
      alt="logo"
    />
    <slot />

    <div id="cursor"></div>

    <footer>
      <p>Made with Astro</p>
      <p>Made by Me</p>
      <p>Hosted on Github</p>
    </footer>
  </body>
</html>

<style>
  #logo {
    position: fixed;
    z-index: 1000;
    top: 1rem;
    left: 1rem;
    width: clamp(2.5rem, 5%, 4rem);
  }

  #cursor {
    position: fixed;
    width: 2.8rem;
    height: 2.8rem;
    top: 0;
    right: 50%;
    /* background-color: red; */
    border: 2px solid white;
    border-radius: 100%;
    transition: 0.1s;
    pointer-events: none;
    display: none;
    z-index: 999;
    mix-blend-mode: difference;
  }

  footer {
    display: flex;
    background-color: var(--dominant-color);
    color: var(--complementary-color);
    justify-content: space-evenly;
    transition: 250ms;
  }

  footer > p {
    margin: 2rem 0;
    font-weight: 800;
    width: min-content;
    text-align: center;
  }

  @media (min-width: 1024px) {
    #cursor {
      display: block;
    }

    footer:hover {
      color: var(--shadow-background);
    }
  }
</style>

<script>
  ////////////////custom cursor script///////////
  const card = document.getElementsByClassName("learning-card");
  const contact_fields = document.getElementsByClassName("contact-field");
  const project_names = document.getElementsByClassName("project-name");
  const spans = document.getElementsByTagName('span');

  const cursor = document.getElementById("cursor");

  document.addEventListener("mousemove", (systemCursor) => {
    var x = systemCursor.clientX;
    var y = systemCursor.clientY;

    cursor.style.left = x - 16.8 + "px";
    cursor.style.top = y - 16.8 + "px";
  });

  function addMouseEffects(elements) {
    for (let i = 0; i < elements.length; i++) {
      const tag = elements.item(i);
      tag.addEventListener("mouseenter", () => {
        cursor.style.scale = "1.3";
        cursor.style.backgroundColor = "var(--complementary-color)";
      });

      tag.addEventListener("mouseleave", () => {
        cursor.style.scale = "1";
        cursor.style.backgroundColor = "transparent";
      });
    }
  }

  addMouseEffects(card);
  addMouseEffects(contact_fields);
  addMouseEffects(project_names);
  addMouseEffects(spans);

  ////////////////////////////////////////////
</script>
